<!DOCTYPE html>
<html lang="zh-cn">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.1.0">
  <meta name="generator" content="Hugo 0.54.0" />

  

  
  
  
  
  
  
  
  
  
  

  
  <meta name="author" content="Tgenkidu Cy">

  
  
  
  
  
  <meta name="description" content="数据类型  内置类型
char //字符数据类型 short //短整型 int //整形 long //长整型 long long //更长的整形 float //单精度浮点数 double //双精度浮点数  自定义类型(构造类型)
  类型的意义：
 使用这个类型开辟内存空间的大小（大小决定了使用范围）。 如何看待内存空间的视角。  类型的基本归类 整形家族 char unsigned char //无符号数 signed char short unsigned short [int] signed short [int] //[int] 可以省略 int unsigned int signed int long unsigned long [int] signed long [int]  浮点数家族 float double  构造类型 &gt; 数组类型 &gt; 结构体类型 struct &gt; 枚举类型 enum &gt; 联合类型 union  指针类型 int *pi; char *pc; float* pf; void* pv;  空类型 void 表示空类型（无类型） 通常应用于函数的返回类型、函数的参数、指针类型。  整形在内存中的存储 limit.">

  
  <link rel="alternate" hreflang="zh-cn" href="https://cytgenkidu.github.io/tutorial/c/9/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
  
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.13.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
  
  
  

  

  

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="https://cytgenkidu.github.io/index.xml" type="application/rss+xml"
    title="Cytgenkidu">
  <link rel="feed" href="https://cytgenkidu.github.io/index.xml" type="application/rss+xml" title="Cytgenkidu">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://cytgenkidu.github.io/tutorial/c/9/">

  
  
  
  
  
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Cytgenkidu">
  <meta property="og:url" content="https://cytgenkidu.github.io/tutorial/c/9/">
  <meta property="og:title" content=" | Cytgenkidu">
  <meta property="og:description" content="数据类型  内置类型
char //字符数据类型 short //短整型 int //整形 long //长整型 long long //更长的整形 float //单精度浮点数 double //双精度浮点数  自定义类型(构造类型)
  类型的意义：
 使用这个类型开辟内存空间的大小（大小决定了使用范围）。 如何看待内存空间的视角。  类型的基本归类 整形家族 char unsigned char //无符号数 signed char short unsigned short [int] signed short [int] //[int] 可以省略 int unsigned int signed int long unsigned long [int] signed long [int]  浮点数家族 float double  构造类型 &gt; 数组类型 &gt; 结构体类型 struct &gt; 枚举类型 enum &gt; 联合类型 union  指针类型 int *pi; char *pc; float* pf; void* pv;  空类型 void 表示空类型（无类型） 通常应用于函数的返回类型、函数的参数、指针类型。  整形在内存中的存储 limit.">
  <meta property="og:image" content="https://cytgenkidu.github.io/img/icon-192.png">
  <meta property="og:locale" content="zh-cn">
  
  
  <meta property="article:published_time" content="2021-02-15T00:00:00&#43;01:00">
  
  
  <meta property="article:modified_time" content="2021-02-15T00:00:00&#43;01:00">
  
  

  

  

  <title> | Cytgenkidu</title>

  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fcb4ffd03ad556276685a41c0ba9d475";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();

  </script>
</head>

<body id="top" data-spy="scroll"
  data-target="#TableOfContents" data-offset="71"
  >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>搜索</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Cytgenkidu</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="切换导航">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>首页</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>博客</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
            
            <span>笔记</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>联系</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>



<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="搜索..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/c/">概述</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/c/1/">1、基础知识</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/c/1/">初识C语言</a>
      </li>
      
      <li >
        <a href="/tutorial/java/1/">基本概念</a>
      </li>
      
      <li >
        <a href="/tutorial/c/2/">分支语句和循环语句</a>
      </li>
      
      <li >
        <a href="/tutorial/c/3/">函数</a>
      </li>
      
      <li >
        <a href="/tutorial/c/4/">数组</a>
      </li>
      
      <li >
        <a href="/tutorial/c/5/">操作符详解</a>
      </li>
      
      <li >
        <a href="/tutorial/c/6/">指针</a>
      </li>
      
      <li >
        <a href="/tutorial/c/7/">结构体</a>
      </li>
      
      <li >
        <a href="/tutorial/c/8/">实用调试技巧</a>
      </li>
      
      <li class="active">
        <a href="/tutorial/c/9/">数据的存储</a>
      </li>
      
      <li >
        <a href="/tutorial/c/10/">指针的详解</a>
      </li>
      
      <li >
        <a href="/tutorial/c/11/">字符函数和字符串函数</a>
      </li>
      
      <li >
        <a href="/tutorial/c/12/">自定义类型：结构体，枚举，联合</a>
      </li>
      
      <li >
        <a href="/tutorial/c/13/">动态内存管理</a>
      </li>
      
      <li >
        <a href="/tutorial/c/14/">文件操作</a>
      </li>
      
      <li >
        <a href="/tutorial/c/15/">程序环境和预处理</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/c/%E4%B8%89%E5%AD%90%E6%A3%8B/">2、应用</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/c/%E4%B8%89%E5%AD%90%E6%A3%8B/">三子棋的实现</a>
      </li>
      
      <li >
        <a href="/tutorial/c/%E6%89%AB%E9%9B%B7%E6%B8%B8%E6%88%8F/">扫雷游戏的实现</a>
      </li>
      
      <li >
        <a href="/tutorial/c/%E6%B1%89%E8%AF%BA%E5%A1%94%E9%97%AE%E9%A2%98/">汉诺塔问题</a>
      </li>
      
      <li >
        <a href="/tutorial/c/contact/">通讯录的实现</a>
      </li>
      
      <li >
        <a href="/tutorial/c/%E9%9D%92%E8%9B%99%E8%B7%B3%E5%8F%B0%E9%98%B6%E9%97%AE%E9%A2%98/">青蛙跳台阶问题</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
      <p class="docs-toc-title">在本页</p>
      

      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#数据类型">数据类型</a>
<ul>
<li><a href="#类型的基本归类">类型的基本归类</a>
<ul>
<li><a href="#整形家族">整形家族</a></li>
<li><a href="#浮点数家族">浮点数家族</a></li>
<li><a href="#构造类型">构造类型</a></li>
<li><a href="#指针类型">指针类型</a></li>
<li><a href="#空类型">空类型</a></li>
</ul></li>
</ul></li>
<li><a href="#整形在内存中的存储-limit-h">整形在内存中的存储 limit.h</a>
<ul>
<li><a href="#原码-反码-补码">原码、反码、补码</a>
<ul>
<li><a href="#大小端介绍">大小端介绍</a></li>
</ul></li>
</ul></li>
<li><a href="#练习">练习</a></li>
<li><a href="#浮点型在内存中的存储-float-h">浮点型在内存中的存储 float.h</a>
<ul>
<li><a href="#常见的浮点数">常见的浮点数：</a></li>
<li><a href="#存入">存入</a></li>
<li><a href="#取出">取出</a></li>
<li><a href="#例子">例子</a></li>
</ul></li>
<li><a href="#练习-1">练习</a>
<ul>
<li><a href="#1">1</a></li>
<li><a href="#练习2">练习2</a></li>
<li><a href="#练习3">练习3</a></li>
<li><a href="#打印杨辉三角">打印杨辉三角</a></li>
<li><a href="#猜凶手">猜凶手</a></li>
<li><a href="#猜名次">猜名次</a></li>
</ul></li>
</ul></li>
</ul>
</nav> 

      <ul class="nav toc-top">
        <li><a href="#">回到顶部</a></li>
      </ul>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name"></h1>

          <div class="article-style" itemprop="articleBody">
            

<h2 id="数据类型">数据类型</h2>

<ol>
<li><p>内置类型</p>

<pre><code>char        //字符数据类型
short       //短整型
int         //整形
long        //长整型
long long   //更长的整形
float       //单精度浮点数
double      //双精度浮点数
</code></pre></li>

<li><p>自定义类型(构造类型)</p></li>
</ol>

<p><strong>类型的意义：</strong></p>

<ol>
<li>使用这个类型开辟内存空间的大小（大小决定了使用范围）。</li>
<li>如何看待内存空间的视角。</li>
</ol>

<h3 id="类型的基本归类">类型的基本归类</h3>

<h4 id="整形家族">整形家族</h4>

<pre><code>char
    unsigned char //无符号数
    signed char
short
    unsigned short [int]
    signed short [int] //[int] 可以省略
int
    unsigned int
    signed int
long
    unsigned long [int]
    signed long [int]
</code></pre>

<h4 id="浮点数家族">浮点数家族</h4>

<pre><code>float
double
</code></pre>

<h4 id="构造类型">构造类型</h4>

<pre><code>&gt; 数组类型
&gt; 结构体类型 struct
&gt; 枚举类型 enum
&gt; 联合类型 union
</code></pre>

<h4 id="指针类型">指针类型</h4>

<pre><code class="language-C++">int *pi;
char *pc;
float* pf;
void* pv;
</code></pre>

<h4 id="空类型">空类型</h4>

<pre><code>void 表示空类型（无类型）
通常应用于函数的返回类型、函数的参数、指针类型。
</code></pre>

<h2 id="整形在内存中的存储-limit-h">整形在内存中的存储 limit.h</h2>

<h3 id="原码-反码-补码">原码、反码、补码</h3>

<pre><code>计算机中的有符号数有三种表示方法，即原码、反码和补码。[无符号：原码、反码、补码 相同]
三种表示方法均有符号位和数值位两部分，符号位都是用0表示“正”，用1表示“负”，而数值位三种表示方法各不相同。
</code></pre>

<p><strong>原码</strong></p>

<p>直接将二进制按照正负数的形式翻译成二进制就可以。</p>

<p><strong>反码</strong></p>

<p>将原码的符号位不变，其他位依次按位取反就可以得到了。</p>

<p><strong>补码</strong></p>

<p>反码+1就得到补码。</p>

<p><strong>正数的原、反、补码都相同。</strong></p>

<p><strong>对于整形来说：数据存放内存中其实存放的是补码。</strong></p>

<pre><code class="language-C++">1 - 1;
//1 + (-1)
//00000000000000000000000000000001
//11111111111111111111111111111111
//00000000000000000000000000000000

//10000000000000000000000000000001  - -1原码
//11111111111111111111111111111110    -1补码
//11111111111111111111111111111111    -反码

//00000000000000000000000000000001  - 1 原码 补码 反码
//10000000000000000000000000000001  
//10000000000000000000000000000010
</code></pre>

<p>为什么呢？</p>

<p>在计算机系统中，数值一律用补码来表示和存储。
原因在于，使用补码，可以将符号位和数值域统一处理；
同时，加法和减法也可以统一处理<strong>（CPU只有加法器）</strong>
此外，补码与原码相互转换，其运算过程是相同的，不需要额外的硬件电路。</p>

<p><img src="../img/9/ab存储.png" alt="Image text" /></p>

<p>我们可以看到对于a和b分别存储的是补码。但是我们发现顺序有点不对劲。 这是又为什么？</p>

<h4 id="大小端介绍">大小端介绍</h4>

<p><strong>什么大端小端</strong></p>

<pre><code>大端（存储）模式，是指数据的低位保存在内存的高地址中，而数据的高位，保存在内存的低地址中；
小端（存储）模式，是指数据的低位保存在内存的低地址中，而数据的高位,，保存在内存的高地址中。
</code></pre>

<p><img src="../img/9/大端小端.png" alt="Image text" /></p>

<p><strong>为什么有大端和小端：</strong></p>

<pre><code>这是因为在计算机系统中，我们是以字节为单位的，每个地址单元都对应着一个字节，一个字节为8bit。
但是在C语言中除了8bit的char之外，还有16bit的short型，32bit的long型（要看具体的编译器），
另外，对于位数大于8位的处理器，例如16位或者32位的处理器，由于寄存器宽度大于一个字节，
那么必然存在着一个如果将多个字节安排的问题。因此就导致了大端存储模式和小端存储模式。

例如一个 16bit 的 short 型 x ，在内存中的地址为 0x0010 ， x 的值为 0x1122 ，
那么 0x11 为高字节， 0x22 为低字节。

对于大端模式，就将 0x11 放在低地址中，即 0x0010 中， 0x22 放在高地址中，即 0x0011 中。
小端模式，刚好相反。我们常用的 X86 结构是小端模式，而 KEIL C51 则为大端模式。

很多的ARM，DSP都为小端模式。有些ARM处理器还可以由硬件来选择是大端模式还是小端模式。
</code></pre>

<p><strong>百度2015年系统工程师笔试题：</strong></p>

<p>请简述大端字节序和小端字节序的概念，设计一个小程序来判断当前机器的字节序。（10分）</p>

<pre><code class="language-C++">#include &lt;stdio.h&gt;
int check_sys()
{
    int a = 1;
    return *(char*)&amp;a;
}
//指针类型的意义：
//1. 指针类型决定了指针解引用操作符能访问几个字节：char*p; *p 访问了1个字节，int*p;*p 访问4个字节
//2. 指针类型决定了指针+1，-1，加的或者减的是几个字节；char*p; p+1,跳过一个字符，int*p; p+1,跳过一个整形-4个字节

int main()
{
    printf(&quot;当前机器的字节序:%s&quot;, check_sys() == 1 ? &quot;小端存储&quot; : &quot;大端存储&quot;);
    return 0;
}
</code></pre>

<h2 id="练习">练习</h2>

<p>下面程序输出什么？</p>

<p><img src="../img/9/char 的范围.png" alt="Image text" /></p>

<ol>
<li><pre><code class="language-C++">char a = -1;
/*10000000000000000000000000000001
11111111111111111111111111111110
11111111111111111111111111111111
11111111111111111111111111111111*/

signed char b = -1;
//11111111

unsigned char c = -1;
/*00000000000000000000000011111111
255*/

printf(&quot;a=%d,b=%d,c=%d&quot;, a, b, c);//-1 -1  255
</code></pre></li>

<li><pre><code class="language-C++">char a = -128;
//10000000000000000000000010000000
//11111111111111111111111101111111
//11111111111111111111111110000000-补码
//10000000
//11111111111111111111111110000000-补码
//
printf(&quot;%u\n&quot;, a);//4294967168

//%d - 打印十进制的有符号数字
//%u - 打印十进制的无符号数字
</code></pre></li>

<li><pre><code class="language-C++">char a = 128;//127+1，char放不下128，127+1=-128
//10000000000000000000000010000000 - -128
//11111111111111111111111101111111
//11111111111111111111111110000000-补码
//10000000
//11111111111111111111111110000000-补码
    
printf(&quot;%u\n&quot;, a);//4294967168

//%d - 打印十进制的有符号数字
//%u - 打印十进制的无符号数字
</code></pre>

<p><img src="../img/9/signedchar127+1.png" alt="Image text" /></p></li>

<li><pre><code class="language-C++">int i= -20;
//1000000 00000000 00000000 00010100
//1111111 11111111 11111111 11101011
//1111111 11111111 11111111 11101100 - 补码

unsigned  int  j = 10;
//0000000 00000000 00000000 00001010 - 补码

//1111111 11111111 11111111 11101100 - 补码
//0000000 00000000 00000000 00001010 - 补码
//1111111 11111111 11111111 11110110 - 结果 补码
//1111111 11111111 11111111 11110101 - 反码
//1000000 00000000 00000000 00001010 - 原码
printf(&quot;%d\n&quot;, i+j);//-10
//按照补码的形式进行运算，最后格式化成为有符号整数
</code></pre></li>

<li><pre><code class="language-C++">#include &lt;windows.h&gt;
#include &lt;stdio.h&gt;
int main()
{
    unsigned int i;
    for (i = 9; i &gt;= 0; i--)
    {
        printf(&quot;%u\n&quot;, i);
        //9 8 7 6 5 4 3 2 1 0 4294967295 4294967294 4294967293……
        //死循环
        Sleep(100);
    }
    return 0;
}
</code></pre></li>

<li><pre><code class="language-C++">char a[1000];
int i;
for (i = 0; i&lt;1000; i++)
{
    a[i] = -1 - i;//char的范围-128--&gt;127
    //-1 -2 -3 …… -127 -126 -125 …… -1 0
}
printf(&quot;%d&quot;, strlen(a));//255
</code></pre></li>

<li><pre><code class="language-C++">#include &lt;stdio.h&gt;
unsigned char i = 0;//0-255
int main()
{
    for (i = 0; i &lt;= 255; i++)
    {
        printf(&quot;hello world\n&quot;);//死循环
    }
    return 0;
}
</code></pre></li>
</ol>

<h2 id="浮点型在内存中的存储-float-h">浮点型在内存中的存储 float.h</h2>

<h3 id="常见的浮点数">常见的浮点数：</h3>

<pre><code>3.14159 1E10 浮点数家族包括： float、double、long double 类型。 浮点数表示的范围：float.h中定义
</code></pre>

<h3 id="存入">存入</h3>

<p>根据国际标准IEEE（电气和电子工程协会） 754，任意一个二进制浮点数V可以表示成下面的形式：</p>

<pre><code>(-1)^S * M * 2^E
(-1)^s表示符号位，当s=0，V为正数；当s=1，V为负数。
M表示有效数字，大于等于1，小于2。
2^E表示指数位。
</code></pre>

<pre><code class="language-C++">//9.0
//1001.0
//(-1)^0 * 1.001 * 2^3
//(-1)^s * M     * 2^E
//s - 0
//M - 1.001
//E - 3
//
//0.5
//0.1 二进制表示形式
//(-1)^0 * 1.0 * 2^-1
//S = 0
//M = 1.0
//E = -1
//E + 127【中间值】 = 126
</code></pre>

<p>IEEE 754规定： 对于32位的浮点数，最高的1位是符号位s，接着的8位是指数E，剩下的23位为有效数字M。</p>

<p><img src="../img/9/32.png" alt="Image text" /></p>

<p>对于64位的浮点数，最高的1位是符号位S，接着的11位是指数E，剩下的52位为有效数字M。</p>

<p><img src="../img/9/64.png" alt="Image text" /></p>

<pre><code class="language-C++">float f = 5.5;
//5.5
//101.1
//(-1)^0 * 1.011*2^2
//(-1)^s * M    *2^E
//S = 0
//M = 1.011 
//E = 2
//0 10000001 01100000000000000000000
//0100 0000 1011 0000 0000 0000 0000 0000
//0x40b00000
//(-1)^0 * 1.011 * 2^2
</code></pre>

<p><strong>IEEE 754对有效数字M和指数E，还有一些特别规定。</strong> 前面说过， 1≤M&lt;2 ，也就是说，M可以写成 1.xxxxxx 的形
式，其中xxxxxx表示小数部分。</p>

<p>IEEE 754规定，在计算机内部保存M时，默认这个数的第一位总是1，因此可以被舍去，只保存后面的xxxxxx部分。
比如保存1.01的时候，只保存01，等到读取的时候，再把第一位的1加上去。这样做的目的，是节省1位有效数字。
以32位浮点数为例，留给M只有23位，将第一位的1舍去以后，等于可以保存24位有效数字。</p>

<p><strong>至于指数E，情况就比较复杂。</strong></p>

<p>首先，E为一个无符号整数（unsigned int） 这意味着，如果E为8位，它的取值范围为0~255；如果E为11位，它的
取值范围为0~2047。但是，我们知道，科学计数法中的E是可以出现负数的，所以IEEE 754规定，存入内存时E的真
实值必须再加上一个中间数，对于8位的E，这个中间数是127；对于11位的E，这个中间数是1023。比如，2^10的E
是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。</p>

<h3 id="取出">取出</h3>

<p>然后，指数E从内存中<strong>取出</strong>还可以再分成三种情况：</p>

<p><strong>E不全为0或不全为1</strong></p>

<p>这时，浮点数就采用下面的规则表示，即指数E的计算值减去127（或1023），得到真实值，再将有效数字M前
加上第一位的1。 比如： 0.5（1/2）的二进制形式为0.1，由于规定正数部分必须为1，即将小数点右移1位，
则为1.0*2^(-1)，其阶码为-1+127=126，表示为01111110，而尾数1.0去掉整数部分为0，补齐0到23位
00000000000000000000000，则其二进制表示形式为:</p>

<p><code>0 01111110 00000000000000000000000</code></p>

<p><strong>E全为0</strong></p>

<p>这时，浮点数的指数E等于1-127（或者1-1023）即为真实值， 有效数字M不再加上第一位的1，而是还原为
0.xxxxxx的小数。这样做是为了表示±0，以及接近于0的很小的数字。</p>

<pre><code class="language-C++">//0 00000000 01100000000000000000000
//+/- 0.011 * 2^-126
//正负无穷小
</code></pre>

<p><strong>E全为1</strong></p>

<p>这时，如果有效数字M全为0，表示±无穷大（正负取决于符号位s）；</p>

<pre><code class="language-C++">//0 11111111 01100000000000000000000
//E+127 = 255
//E = 128
//1.xxx * 2^128
//表示的正负无穷大的数字
</code></pre>

<h3 id="例子">例子</h3>

<pre><code class="language-C++">int main()
{
    int n = 9;
    //0 00000000 00000000000000000001001-补码
    //
    float *pFloat = (float *)&amp;n;
    printf(&quot;n的值为：%d\n&quot;, n);//9
    printf(&quot;*pFloat的值为：%f\n&quot;, *pFloat);//0.000000
    //(-1)^0 * 0.00000000000000000001001 * 2^-126
    //
    *pFloat = 9.0;
    //1001.0
    //1.001*2^3
    //(-1)^0 *1.001 * 2^3
    //01000001000100000000000000000000

    printf(&quot;num的值为：%d\n&quot;, n);
    printf(&quot;*pFloat的值为：%f\n&quot;, *pFloat);//9.0
    return 0;
}
</code></pre>

<p><img src="../img/9/浮点存储结果.png" alt="Image text" /></p>

<p>为什么 0x00000009 还原成浮点数，就成了 0.000000 ？</p>

<p>首先，将 0x00000009 拆分，得到第一位符号位s=0，后面8位的指数 E=00000000 ，
最后23位的有效数字M=000 0000 0000 0000 0000 1001。</p>

<p>由于指数E全为0，所以符合上一节的第二种情况。因此，浮点数V就写成：
<code>V=(-1)^0 × 0.00000000000000000001001×2^(-126)=1.001×2^(-146)</code>
显然，V是一个很小的接近于0的正数，所以用十进制小数表示就是0.000000。</p>

<p>请问浮点数9.0，如何用二进制表示？还原成十进制又是多少？</p>

<p>首先，浮点数9.0等于二进制的1001.0，即1.001×2^3。</p>

<p>那么，第一位的符号位s=0，有效数字M等于001后面再加20个0，凑满23位，指数E等于3+127=130，
即10000010。 所以，写成二进制形式，应该是s+E+M，即这个32位的二进制数，还原成十进制，正是 1091567616 。</p>

<h2 id="练习-1">练习</h2>

<h3 id="1">1</h3>

<pre><code class="language-C++">unsigned char a = 200;
unsigned char b = 100;
unsigned char c = 0;

c = a + b; //整形提升
//00000000000000000000000011001000 - a
//00000000000000000000000001100100 - b
//00000000000000000000000100101100
//00101100 - c
//00000000000000000000000000101100
//
//00000000000000000000000011001000
//11001000-a
//00000000000000000000000001100100
//01100100-b

printf(&quot;%d %d&quot;, a + b, c);
//300 44
</code></pre>

<p><img src="../img/9/练习1.png" alt="Image text" /></p>

<h3 id="练习2">练习2</h3>

<pre><code class="language-c++">unsigned int a = 0x1234;
unsigned char b = *(unsigned char *)&amp;a;
printf(&quot;%d\n&quot;, b);//0x00
</code></pre>

<p><img src="../img/9/练习2.png" alt="Image text" /></p>

<h3 id="练习3">练习3</h3>

<pre><code class="language-C++">//-128 --&gt; 127
char a[1000] = { 0 };
//
int i = 0;
for (i = 0; i&lt;1000; i++)
{
    a[i] = -1 - i;
}
//-1 -2 ... -128 127 126 125 ... 3 2 1 0 -1 -2 ... 
//0结束
printf(&quot;%d\n&quot;, strlen(a));//255    // #include &lt;string.h&gt;
</code></pre>

<h3 id="打印杨辉三角">打印杨辉三角</h3>

<p><img src="../img/9/杨辉三角.png" alt="Image text" /></p>

<pre><code class="language-C++">// 1
// 1 1
// 1 2 1
// 1 3 3 1
// 1 4 6 4 1
// ................

int main()
{
    int arr[10][10] = { 0 };
    int i = 0;
    int j = 0;
    for (i = 0; i &lt; 10; i++)
    {
        for (j = 0; j &lt; 10; j++)
        {
            if (j == 0)
            {
                arr[i][j] = 1;
            }
            if (i == j)
            {
                arr[i][j] = 1;
            }
            if (i &gt;= 2 &amp;&amp; j &gt;= 1)
            {
                arr[i][j] = arr[i - 1][j] + arr[i - 1][j - 1];
            }
        }
    }
    //打印
    for (i = 0; i &lt; 10; i++)
    {
        for (j = 0; j &lt;=i; j++)
        {
            printf(&quot;%d &quot;, arr[i][j]);
        }
        printf(&quot;\n&quot;);
    }

    return 0;
}
</code></pre>

<h3 id="猜凶手">猜凶手</h3>

<pre><code>日本某地发生了一件谋杀案，警察通过排查确定杀人凶手必为4个嫌疑犯的一个。

以下为4个嫌疑犯的供词 :
A说：不是我。//0
B说：是C。   //0
C说：是D。   //0
D说：C在胡说 //1
已知3个人说了真话，1个人说的是假话。

现在请根据这些信息，写一个程序来确定到底谁是凶手
</code></pre>

<pre><code class="language-C++">int killer = 0;
for (killer = 'a'; killer &lt;= 'd'; killer++)
{
    if ((killer != 'a') + (killer == 'c') + (killer == 'd') + (killer != 'd') == 3)
    {
        printf(&quot;killer = %c\n&quot;, killer);
    }
}
</code></pre>

<h3 id="猜名次">猜名次</h3>

<p>5位运动员参加了10米台跳水比赛，有人让他们预测比赛结果：
A说：B第二，我第三。
B说：我第二，E第四。
C说：我第一，D第二。
E说：我第四，A第一；
比赛结束后，每个选手都谁对了一半，请编程确定比赛名次。</p>

<pre><code class="language-C++">int main()
{
    int a = 0;
    int b = 0;
    int c = 0;
    int d = 0;
    int e = 0;
    for (a = 1; a &lt;= 5; a++)
    {
        for (b = 1; b &lt;= 5; b++)
        {
            for (c = 1; c &lt;= 5; c++)
            {
                for (d = 1; d &lt;= 5; d++)
                {
                    for (e = 1; e &lt;= 5; e++)
                    {
                        if (((b == 2) + (a == 3) == 1) &amp;&amp;
                            ((b == 2) + (e == 4) == 1) &amp;&amp;
                            ((c == 1) + (d == 2) == 1) &amp;&amp;
                            ((c == 5) + (d == 3) == 1) &amp;&amp;
                            ((e == 4) + (a == 1) == 1))
                        {
                            if (a * b * c * d * e == 120)
                                printf(&quot;a=%d b=%d c=%d d=%d e=%d\n&quot;, a, b, c, d, e);
                        }
                    }
                }
            }
        }
    }
    return 0;
}
</code></pre>

<p>本页完</p>

          </div>

          


          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">上一页</div>
    <a href="/tutorial/c/8/" rel="next"></a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">下一页</div>
    <a href="/tutorial/c/10/" rel="prev"></a>
  </div>
  
</div>


          </div>
          
        </div>

        <div class="body-footer">
          最近更新于 2021-02-15
        </div>
       
      </article>
      



<link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/gitalk/md5.min.js"></script>
<script src="/js/gitalk/gitalk.min.js"></script>

<div id="gitalk-container"></div>
<script type="text/javascript">
  
   
 
 var gitalk = new Gitalk({
    clientID: '10a6d5d1d3fbd4240caf',
    clientSecret: '3df97152f7b0637c0d6dca7cd06eac30b4b908e3',
    repo: 'cytgenkidu.github.io',
    owner: 'cytgenkidu',
    admin: ['cytgenkidu'],
    
    id: md5(location.pathname),
    distractionFreeMode: false 
  });
  gitalk.render('gitalk-container');
</script>

      <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    &copy; 2019 &middot; 

    Powered by the
    
    <a href="https://github.com/cytgenkidu" target="_blank" rel="noopener">cytgenkidu</a> 
    <i class="fas fa-heart" style="color: red;"></i>
    .

    
  </p>
</footer>


    </main>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdn.bootcdn.net/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdn.bootcdn.net/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "搜索...",
        'results': "搜索结果",
        'no_results': "没有找到结果"
      };
      const content_type = {
        'post': "文章",
        'project': "项目",
        'publication' : "出版物",
        'talk' : "演讲"
        };
    </script>
    

    
    
    <script src="https://cdn.bootcdn.net/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdn.bootcdn.net/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d7381f2d79e6271d4da28f474f49096c.js"></script>

  </body>
</html>


